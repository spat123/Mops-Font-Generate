# Руководство по использованию Tailwind CSS 4.0 в проекте

## Введение

В нашем проекте используется Tailwind CSS 4.0, который имеет новый подход к конфигурации - CSS-first вместо JavaScript-конфигурации. Это означает, что вместо файла `tailwind.config.js` мы используем директивы CSS для настройки фреймворка.

## Основные особенности Tailwind CSS 4.0

1. **CSS-first конфигурация** - вместо JavaScript-конфигурации используются директивы CSS
2. **Автоматическая генерация утилит** - классы генерируются автоматически на основе использования в HTML, без необходимости их явного определения
3. **Встроенная поддержка JIT (Just-In-Time)** - классы генерируются по мере необходимости
4. **Улучшенная производительность** - быстрее компиляция и меньше размер итогового CSS
5. **Новый синтаксис для настройки** - использование директив `@theme` и `@utilities`

## Настройка в нашем проекте

### Установка и зависимости

```json
{
  "dependencies": {
    "@tailwindcss/postcss": "^4.0.14"
  },
  "devDependencies": {
    "tailwindcss": "^4.0.14",
    "postcss": "^8.5.3",
    "autoprefixer": "^10.4.21"
  }
}
```

### Конфигурация PostCSS

```js
// postcss.config.js
export default {
  plugins: {
    '@tailwindcss/postcss': {},
    autoprefixer: {},
  },
  map: process.env.NODE_ENV !== 'production',
}
```

### Основной CSS файл

```css
/* src/assets/main.css */
@import "tailwindcss";

@theme {
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  /* другие переменные цветов */
}

/* Здесь можно определить кастомные утилиты, если стандартных недостаточно */
```

## Как это работает

1. **Импорт базовых стилей** - `@import "tailwindcss";` импортирует базовые стили Tailwind CSS
2. **Настройка темы** - директива `@theme` позволяет определить переменные CSS, которые будут использоваться в утилитах
3. **Автоматическая генерация классов** - Tailwind CSS 4.0 автоматически генерирует классы на основе использования в HTML, без необходимости их явного определения

## Ключевое преимущество: автоматическая генерация утилит

Одно из главных преимуществ Tailwind CSS 4.0 - это автоматическая генерация утилит. Вам не нужно явно определять все классы, которые вы хотите использовать. Tailwind CSS 4.0 анализирует ваш HTML и автоматически генерирует только те классы, которые вы фактически используете.

Например, если вы используете класс `bg-white/90` в вашем HTML:

```html
<div class="bg-white/90 backdrop-blur-sm rounded-xl">
  <!-- Содержимое -->
</div>
```

Tailwind CSS 4.0 автоматически сгенерирует CSS для этого класса, без необходимости его явного определения в файле main.css.

## Другие преимущества подхода CSS-first

1. **Меньше конфигурации** - не нужно создавать и поддерживать файл tailwind.config.js
2. **Лучшая интеграция с CSS** - все настройки находятся в CSS файлах
3. **Более понятная структура проекта** - все стили в одном месте
4. **Меньший размер итогового CSS** - генерируются только те классы, которые вы фактически используете

## Примеры использования

### Компонент с использованием утилит Tailwind CSS

```vue
<template>
  <div class="fixed bottom-6 left-1/2 transform -translate-x-1/2 z-10">
    <div class="bg-white/90 backdrop-blur-sm rounded-xl shadow-lg border border-gray-200 px-2 py-1.5 flex items-center gap-1">
      <!-- Содержимое компонента -->
    </div>
  </div>
</template>
```

### Условные классы

```vue
<button 
  class="p-2 rounded-lg transition-colors duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"
  :class="activeTool === 'select' ? 'bg-gray-100 text-gray-900' : 'text-gray-600 hover:bg-gray-50'"
>
  <!-- Содержимое кнопки -->
</button>
```

## Когда нужно явно определять утилиты

В большинстве случаев вам не нужно явно определять утилиты, так как Tailwind CSS 4.0 автоматически генерирует их. Однако есть несколько случаев, когда может потребоваться явное определение:

1. **Кастомные утилиты** - если вам нужны утилиты, которых нет в стандартном наборе Tailwind CSS
2. **Переопределение стандартных утилит** - если вы хотите изменить поведение стандартных утилит

В этих случаях вы можете использовать директиву `@utilities` в main.css:

```css
@utilities {
  .custom-class {
    /* свойства */
  }
}
```

## Отладка и решение проблем

Если вы столкнулись с ошибкой `Cannot apply unknown utility class`, это может означать, что:

1. Класс использует синтаксис, который не поддерживается в Tailwind CSS 4.0
2. Класс требует дополнительной настройки или явного определения

## Заключение

Tailwind CSS 4.0 с подходом CSS-first значительно упрощает работу со стилями в проекте. Автоматическая генерация утилит на основе использования в HTML делает код более чистым и поддерживаемым, а также улучшает производительность за счет генерации только тех классов, которые вы фактически используете. 