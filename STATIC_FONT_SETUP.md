# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —à—Ä–∏—Ñ—Ç–æ–≤

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ç–æ–¥–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —à—Ä–∏—Ñ—Ç–æ–≤ –∏–∑ –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω—ã—Ö:

## üéØ –ú–µ—Ç–æ–¥—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–≤ –ø–æ—Ä—è–¥–∫–µ –∫–∞—á–µ—Å—Ç–≤–∞)

### 1. ü•á –°–µ—Ä–≤–µ—Ä–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (Python fonttools) - –û–°–ù–û–í–ù–û–ô
- **–ö–∞—á–µ—Å—Ç–≤–æ**: –ù–∞—Å—Ç–æ—è—â–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —à—Ä–∏—Ñ—Ç—ã ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –¢—Ä–µ–±—É–µ—Ç —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤**: TTF, OTF, WOFF, WOFF2
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `/api/generate-static-font.js`

### 2. ü•à –ü—Å–µ–≤–¥–æ-—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π (Fallback) - –¢–ï–ö–£–©–ò–ô
- **–ö–∞—á–µ—Å—Ç–≤–æ**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚≠ê‚≠ê
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤**: CSS + –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å

### 3. üö´ HarfBuzz WASM - –£–î–ê–õ–ï–ù
- **–ü—Ä–∏—á–∏–Ω–∞**: –ü–∞–∫–µ—Ç harfbuzzjs –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Å–ª–æ–∂–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- **–†–µ—à–µ–Ω–∏–µ**: –§–æ–∫—É—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
# –∏–ª–∏
yarn install
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

–î–ª—è –Ω–∞—Å—Ç–æ—è—â–∏—Ö —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —à—Ä–∏—Ñ—Ç–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python fonttools:

```bash
# macOS:
# –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–∞–≤–∞ Homebrew (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
sudo chown -R $(whoami) /usr/local/Homebrew

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º pipx –¥–ª—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏
brew install pipx

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º fonttools
pipx install fonttools[woff]

# Ubuntu/Debian:
sudo apt-get install python3 python3-pip
pip3 install fonttools[woff]

# Windows:
# –°–∫–∞—á–∞–π—Ç–µ Python —Å python.org, –∑–∞—Ç–µ–º:
pip install fonttools[woff]
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ fonttools —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
fonttools --version

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
npm run dev
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω—ã–π —à—Ä–∏—Ñ—Ç
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ—Å–∏
4. –ù–∞–∂–º–∏—Ç–µ "–≠–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —à—Ä–∏—Ñ—Ç–∞"
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª–∏:
   - ‚úÖ "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è" - –ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–Ω–∞—Å—Ç–æ—è—â–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —à—Ä–∏—Ñ—Ç—ã)
   - ‚ö†Ô∏è "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Å–µ–≤–¥–æ-—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥" - –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ)

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env.local)

```env
# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥
FORCE_STATIC_GENERATION_METHOD=auto # auto | harfbuzz | server | pseudo

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–≤ –±–∞–π—Ç–∞—Ö)
MAX_FONT_FILE_SIZE=10485760

# –í—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
TEMP_FONT_DIR=./temp
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤ –≤—ã–≤–æ–¥–∞

–í `utils/staticFontGenerator.js` –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:

```javascript
const SUPPORTED_FORMATS = ['woff2', 'woff', 'ttf', 'otf'];
```

## üö® –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### HarfBuzz –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –º–æ–¥—É–ª—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
npm list harfbuzzjs

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
npm uninstall harfbuzzjs
npm install harfbuzzjs@latest
```

### –°–µ—Ä–≤–µ—Ä–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Python
python --version
python3 --version

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ fonttools
pip list | grep fonttools

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ fonttools
pip uninstall fonttools
pip install fonttools[woff]
```

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤—Ä—É—á–Ω—É—é
mkdir temp
chmod 755 temp

# –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø—É—Ç—å –≤ .env.local
TEMP_FONT_DIR=/tmp/font-processing
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤

| –ú–µ—Ç–æ–¥ | –ö–∞—á–µ—Å—Ç–≤–æ | –°–∫–æ—Ä–æ—Å—Ç—å | –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤ |
|-------|----------|----------|--------------|-------------------|
| HarfBuzz | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π | –í—Å–µ |
| –°–µ—Ä–≤–µ—Ä | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π | –í—Å–µ |
| –ü—Å–µ–≤–¥–æ | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π | CSS —Ç–æ–ª—å–∫–æ |

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–µ—Ä–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
2. **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**: HarfBuzz WASM –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
3. **–î–ª—è –¥–µ–º–æ**: –ü—Å–µ–≤–¥–æ-—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [HarfBuzz WASM](https://github.com/harfbuzz/harfbuzzjs)
- [Python fonttools](https://github.com/fonttools/fonttools)
- [Variable Fonts Guide](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Fonts/Variable_fonts_guide)
- [Font Gauntlet](https://fontgauntlet.com/) - –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ 